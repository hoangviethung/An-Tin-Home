"use strict";var map,lastItemClickedIndex,locations,infoWindow,mapSelector=document.querySelector("#map"),dealerLocatorList=document.querySelector(".dealer-locator-list .list"),markers=[],mapOption={zoom:12,styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#f1fff1"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#b4ecbd"}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{color:"#d8e8da"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#467855"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#effefd"}]}]},addMarkers=function(){markers=[];var l=new google.maps.LatLngBounds;locations.forEach(function(e,t){var a=new google.maps.LatLng(e.lat,e.lng),o=new google.maps.Marker({map:map,title:e.title,position:a,icon:e.icon});l.extend(o.position),markers.push(o),showInfoMarkerOnMap(o,t)}),map.fitBounds(l)},showInfoMarkerOnMap=function(e,t){google.maps.event.addListener(e,"click",function(){infoWindow.setContent("\n\t\t\t\t<h3>".concat(locations[t].title,"</h3>\n\t\t\t\t<p>").concat(locations[t].address,"</p>\n\t\t\t\t<p>").concat(locations[t].phone,"</p>\n\t\t\t")),lastItemClickedIndex=t,infoWindow.open(map,e),map.panTo(e.getPosition()),map.setZoom(12)}),google.maps.event.addListener(map,"click",function(){infoWindow.close()})},getLocationList=function(){dealerLocatorList&&(dealerLocatorList.innerHTML="",markers.forEach(function(e,t){var a=document.createElement("div");a.classList.add("dealer-locator-item"),a.innerHTML="\n\t\t\t\t<h3>".concat(locations[t].title,"</h3>\n\t\t\t\t<p>").concat(locations[t].address,"</p>\n\t\t\t\t<p>").concat(locations[t].phone,"</p>\n\t\t\t"),a.setAttribute("marker-id","".concat(t)),a.addEventListener("click",function(){lastItemClickedIndex=t;var e=a.getAttribute("marker-id");google.maps.event.trigger(markers[e],"click")}),dealerLocatorList.appendChild(a)}))},initialize=function(){locations=locationsInput,infoWindow=new google.maps.InfoWindow,map=new google.maps.Map(mapSelector,mapOption),addMarkers();var e=google.maps.event.addListener(map,"idle",function(){12<map.getZoom()&&map.setZoom(12),google.maps.event.removeListener(e)});google.maps.event.addListener(map,"bounds_changed",getLocationList)};mapSelector&&(google.maps.event.addDomListener(window,"load",initialize),dealerLocatorList&&getLocationList());
//# sourceMappingURL=map.min.js.map
