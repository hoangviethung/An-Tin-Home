{"version":3,"sources":["map.js"],"names":["mapSelector","querySelector","infoWindow","document","dealerLocatorList","markers","zoom","styles","lastItemClickedIndex","featureType","elementType","stylers","mapOption","visibility","color","locations","forEach","locationLatLng","map","icon","bounds","marker","push","showInfoMarkerOnMap","google","index","LatLngBounds","getPosition","maps","LatLng","location","lat","lng","Marker","title","extend","position","getLocationList","fitBounds","event","addListener","setContent","concat","address","phone","open","panTo","setZoom","close","newMarker","classList","innerHTML","removeListener","createElement","addDomListener","addEventListener","markerIndex","getAttribute","trigger","appendChild","initialize","locationsInput","InfoWindow","Map","addMarkers","listener","getZoom","window"],"mappings":"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","file":"map.min.js","sourcesContent":["let mapSelector = document.querySelector('#map');\r\nlet dealerLocatorList = document.querySelector('.dealer-locator-list .list');\r\nlet map, lastItemClickedIndex, locations, infoWindow, markers = [];\r\nlet mapOption = {\r\n\tzoom: 12,\r\n\tstyles: [{\r\n\t\t\t\"featureType\": \"all\",\r\n\t\t\t\"elementType\": \"labels\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"administrative\",\r\n\t\t\t\"elementType\": \"labels\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"geometry\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"landscape\",\r\n\t\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"color\": \"#f1fff1\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"landscape.man_made\",\r\n\t\t\t\"elementType\": \"geometry.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#b4ecbd\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"color\": \"#d8e8da\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road\",\r\n\t\t\t\"elementType\": \"labels\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road\",\r\n\t\t\t\"elementType\": \"labels.text\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"labels\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"labels.text\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.highway\",\r\n\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.local\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.local\",\r\n\t\t\t\"elementType\": \"labels\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.local\",\r\n\t\t\t\"elementType\": \"labels.text\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"road.local\",\r\n\t\t\t\"elementType\": \"labels.text.fill\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\t\"visibility\": \"on\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"color\": \"#467855\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"transit\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"visibility\": \"off\"\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"featureType\": \"water\",\r\n\t\t\t\"elementType\": \"all\",\r\n\t\t\t\"stylers\": [{\r\n\t\t\t\t\"color\": \"#effefd\"\r\n\t\t\t}]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nconst addMarkers = () => {\r\n\tmarkers = [];\r\n\tconst bounds = new google.maps.LatLngBounds();\r\n\tlocations.forEach((location, index) => {\r\n\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\r\n\t\tlet marker = new google.maps.Marker({\r\n\t\t\tmap: map,\r\n\t\t\ttitle: location.title,\r\n\t\t\tposition: locationLatLng,\r\n\t\t\ticon: location.icon,\r\n\t\t});\r\n\t\tbounds.extend(marker.position);\r\n\t\tmarkers.push(marker);\r\n\t\tshowInfoMarkerOnMap(marker, index);\r\n\t});\r\n\r\n\tmap.fitBounds(bounds);\r\n};\r\n\r\nconst showInfoMarkerOnMap = (marker, index) => {\r\n\tgoogle.maps.event.addListener(marker, 'click', function() {\r\n\t\tinfoWindow.setContent(`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`);\r\n\t\tlastItemClickedIndex = index;\r\n\t\tinfoWindow.open(map, marker);\r\n\t\tmap.panTo(marker.getPosition());\r\n\t\tmap.setZoom(12);\r\n\t})\r\n\tgoogle.maps.event.addListener(map, 'click', function() {\r\n\t\tinfoWindow.close();\r\n\t})\r\n};\r\n\r\nconst getLocationList = () => {\r\n\tif (dealerLocatorList) {\r\n\t\t// dealerLocatorList.innerHTML = '';\r\n\t\t// markers.forEach((marker, index) => {\r\n\t\t// \tif (map.getBounds().contains(marker.getPosition())) {\r\n\t\t// \t\tconst newMarker = document.createElement('div');\r\n\t\t// \t\tnewMarker.classList.add('dealer-locator-item');\r\n\t\t// \t\tnewMarker.innerHTML = `\r\n\t\t// \t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t// \t\t\t\t<p>${locations[index].address}</p>\r\n\t\t// \t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t// \t\t\t`;\r\n\t\t// \t\tnewMarker.setAttribute('marker-id', `${index}`);\r\n\t\t// \t\tnewMarker.addEventListener('click', () => {\r\n\t\t// \t\t\tlastItemClickedIndex = index;\r\n\t\t// \t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\r\n\t\t// \t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\r\n\t\t// \t\t});\r\n\t\t// \t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tdealerLocatorList.innerHTML = '';\r\n\t\tmarkers.forEach((marker, index) => {\r\n\t\t\tconst newMarker = document.createElement('div');\r\n\t\t\tnewMarker.classList.add('dealer-locator-item');\r\n\t\t\tnewMarker.innerHTML =\r\n\t\t\t\t`\r\n\t\t\t\t<h3>${locations[index].title}</h3>\r\n\t\t\t\t<p>${locations[index].address}</p>\r\n\t\t\t\t<p>${locations[index].phone}</p>\r\n\t\t\t`;\r\n\t\t\tnewMarker.setAttribute('marker-id', `${index}`);\r\n\t\t\tnewMarker.addEventListener('click', () => {\r\n\t\t\t\tlastItemClickedIndex = index;\r\n\t\t\t\tconst markerIndex = newMarker.getAttribute('marker-id');\r\n\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], 'click');\r\n\t\t\t});\r\n\t\t\tdealerLocatorList.appendChild(newMarker);\r\n\t\t})\r\n\t}\r\n};\r\n\r\nconst initialize = () => {\r\n\tlocations = locationsInput;\r\n\tinfoWindow = new google.maps.InfoWindow();\r\n\tmap = new google.maps.Map(mapSelector, mapOption);\r\n\taddMarkers();\r\n\tlet listener = google.maps.event.addListener(map, 'idle', () => {\r\n\t\tif (map.getZoom() > 12) {\r\n\t\t\tmap.setZoom(12);\r\n\t\t}\r\n\t\tgoogle.maps.event.removeListener(listener);\r\n\t});\r\n\tgoogle.maps.event.addListener(map, 'bounds_changed', getLocationList);\r\n};\r\n\r\nif (mapSelector) {\r\n\tgoogle.maps.event.addDomListener(window, 'load', initialize);\r\n\tif (dealerLocatorList) {\r\n\t\tgetLocationList();\r\n\t}\r\n}"]}